<script setup lang="ts">
import { computed } from 'vue'
import type { OAuthProviderName } from '$/maimaitech/oauth2/api/types'

interface Props {
  /** 提供商名称 */
  provider: OAuthProviderName
  /** 图标大小 */
  size?: string | number
  /** 图标颜色 */
  color?: string
}

const props = withDefaults(defineProps<Props>(), {
  size: '1em',
  color: 'currentColor'
})

// 计算图标样式
const iconStyle = computed(() => ({
  width: typeof props.size === 'number' ? `${props.size}px` : props.size,
  height: typeof props.size === 'number' ? `${props.size}px` : props.size,
  color: props.color,
  display: 'inline-block',
  verticalAlign: 'middle'
}))

// 获取SVG路径
const getSvgContent = (provider: OAuthProviderName): string => {
  const svgPaths = {
    dingtalk: `
      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.16 1.04-.8 1.52-1.44 1.52s-1.44-.48-1.44-1.52c0-1.04.8-1.52 1.44-1.52s1.44.48 1.44 1.52zM12 4c.96 0 1.84.16 2.64.48L13.04 8c-.32-.16-.64-.24-1.04-.24s-.72.08-1.04.24L9.36 4.48C10.16 4.16 11.04 4 12 4zM7.36 8.8c.64 0 1.44.48 1.44 1.52s-.8 1.52-1.44 1.52-1.44-.48-1.44-1.52c0-1.04.8-1.52 1.44-1.52zM12 20c-.96 0-1.84-.16-2.64-.48L10.96 16c.32.16.64.24 1.04.24s.72-.08 1.04-.24l1.6 3.52c-.8.32-1.68.48-2.64.48z" fill="currentColor"/>
    `,
    github: `
      <path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" fill="currentColor"/>
    `,
    gitee: `
      <path d="M12 2.5c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10zm4.618 15.021H7.382c-.297 0-.618-.196-.618-.618v-1.854c0-.297.196-.618.618-.618h4.927v-2.472H8.618c-.297 0-.618-.196-.618-.618V9.382c0-.297.196-.618.618-.618h8.764c.297 0 .618.196.618.618v1.854c0 .297-.196.618-.618.618h-4.927v2.472h3.691c.297 0 .618.196.618.618v1.854c0 .422-.32.618-.618.618z" fill="currentColor"/>
    `,
    feishu: `
      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z" fill="currentColor"/>
    `,
    wechat: `
      <path d="M8.5 12c0 .828-.672 1.5-1.5 1.5S5.5 12.828 5.5 12s.672-1.5 1.5-1.5 1.5.672 1.5 1.5zm7.5-1.5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.5 14.5c-.828 0-1.5-.672-1.5-1.5H4.5c0 1.657 1.343 3 3 3s3-1.343 3-3H9c0 .828-.672 1.5-1.5 1.5zm9-3c0 1.657-1.343 3-3 3s-3-1.343-3-3h1.5c0 .828.672 1.5 1.5 1.5s1.5-.672 1.5-1.5H16.5z" fill="currentColor"/>
    `,
    qq: `
      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1.5 14.5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5 1.5.672 1.5 1.5-.672 1.5-1.5 1.5zm3 0c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5 1.5.672 1.5 1.5-.672 1.5-1.5 1.5zM12 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z" fill="currentColor"/>
    `
  }

  return svgPaths[provider] || '<circle cx="12" cy="12" r="10" fill="currentColor"/>'
}
</script>

<template>
  <svg
    :style="iconStyle"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    v-html="getSvgContent(provider)"
  />
</template>

<style scoped>
svg {
  transition: all 0.2s ease;
}
</style>